<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>OlaCreditUnion — Demo Bank</title>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css" rel="stylesheet">
<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
<style>
  /* Your existing CSS here */
  :root{
    --accent-1: #4e54c8;
    --accent-2: #8f94fb;
    --accent-3: #667eea;
    --accent-4: #764ba2;
  }
  html,body{height:100%;margin:0;font-family:Inter, 'Segoe UI', system-ui, Roboto, "Helvetica Neue", Arial;}
  body{
    background: linear-gradient(135deg,var(--accent-1),var(--accent-2));
    color:#222; -webkit-font-smoothing:antialiased;
  }
  .section{display:none;padding:18px 18px 90px;}
  .section.active{display:block;}
  .login-card{max-width:420px;margin:64px auto;background:#fff;border-radius:14px;padding:28px;box-shadow:0 18px 50px rgba(0,0,0,.25);}
  .btn-primary{background:linear-gradient(135deg,var(--accent-1),var(--accent-2));border:0;color:#fff;box-shadow:0 8px 30px rgba(0,0,0,.18);border-radius:10px;padding:10px 14px;}
  .btn-success{background:linear-gradient(135deg,#43e97b,#38f9d7);border:0;color:#fff;border-radius:10px;padding:10px 14px;}
  .btn-danger{background:linear-gradient(135deg,#f5576c,#f093fb);border:0;color:#fff;border-radius:10px;padding:10px 14px;}
  .navbar{height:58px;background:#fff;border-radius:8px;display:flex;align-items:center;justify-content:space-between;padding:0 12px;box-shadow:0 6px 18px rgba(0,0,0,.12);}
  .navbar .icon{font-size:22px;color:var(--accent-4);cursor:pointer}
  .profile-icon{font-size:26px;color:var(--accent-4);cursor:pointer}
  .balance-card{background:linear-gradient(135deg,var(--accent-3),var(--accent-4));color:#fff;border-radius:14px;padding:18px;margin:14px 0;box-shadow:0 12px 40px rgba(0,0,0,.22)}
  .card-custom{background:#fff;border-radius:12px;padding:14px;box-shadow:0 8px 28px rgba(0,0,0,.12);cursor:pointer;margin:8px}
  .card-custom h5{margin:0;font-size:15px;font-weight:600}
  .card-custom p{margin:6px 0 0;color:#666}
  .bottom-nav{position:fixed;left:0;right:0;bottom:14px;margin:auto;display:flex;gap:18px;justify-content:center;pointer-events:auto;}
  .bottom-nav button{width:64px;height:64px;border-radius:32px;border:0;box-shadow:0 10px 30px rgba(0,0,0,.18);display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer}
  .menu{position:fixed;left:-290px;top:0;height:100%;width:270px;background:#fff;box-shadow:4px 0 30px rgba(0,0,0,.2);padding-top:64px;transition:left .22s;}
  .menu.show{left:0}
  .menu a{display:flex;align-items:center;padding:12px 16px;color:#333;text-decoration:none;border-bottom:1px solid #f2f2f2}
  .menu a i{font-size:18px;margin-right:12px;color:var(--accent-4)}
  .profile-pic{width:78px;height:78px;border-radius:50%;object-fit:cover;border:3px solid #fff;box-shadow:0 6px 22px rgba(0,0,0,.18)}
  .success-card{background:#fff;border-radius:12px;padding:16px;box-shadow:0 12px 34px rgba(0,0,0,.14);max-width:560px;margin:18px auto;color:#222}
  .receipt-table{width:100%;border-collapse:collapse;margin-top:12px;}
  .receipt-table td, .receipt-table th{border:1px solid #ddd;padding:8px;text-align:left;}
  .receipt-table th{background:#f2f2f2;}
  .small-muted{font-size:13px;color:#666}
  .spinner{display:flex;justify-content:center;align-items:center;padding:40px}
  .spinner .dot{width:48px;height:48px;border-radius:50%;border:6px solid rgba(255,255,255,.18);border-top-color:#fff;animation:spin 1s linear infinite}
  @keyframes spin{to{transform:rotate(360deg)}}
  input,select,textarea{border-radius:10px;padding:10px;border:1px solid #e6e6e6;box-shadow:inset 0 1px 2px rgba(0,0,0,.03);width:100%}
  label{font-weight:600;font-size:14px;color:#333}
  .link-like{color:var(--accent-4);cursor:pointer}
  .muted{color:#777;font-size:13px}
  @media (min-width:900px){.section{max-width:980px;margin:0 auto}}
</style>
</head>
<body>

<!-- LOGIN PAGE -->
<div id="loginSection" class="section active">
  <div class="login-card text-center">
    <h3 class="mb-3" style="font-weight:700;">OlaCreditUnion</h3>
    <p class="muted mb-4">Secure Login</p>
    <input type="email" id="loginEmail" placeholder="Email" class="mb-3">
    <input type="password" id="loginPassword" placeholder="Password" class="mb-3">
    <button class="btn btn-primary w-100" id="loginBtn">Login</button>
    <div id="loginError" class="text-danger mt-3" style="display:none;">Invalid email or password</div>
  </div>
</div>

<!-- DASHBOARD -->
<div id="dashboardSection" class="section">
  <div class="navbar mb-3">
    <i class="bi bi-list icon" id="menuToggle"></i>
    <i class="bi bi-person-circle profile-icon" id="openProfile"></i>
  </div>

  <div class="balance-card text-center">
    <div id="greeting" style="font-size:18px;font-weight:600;"></div>
    <div class="small-muted" id="liveTime"></div>
    <h2 id="overallBalance" style="margin-top:15px;font-weight:700;"></h2>
    <div class="small-muted">Overall Balance</div>
  </div>

  <h5 style="font-weight:700;margin-top:18px;">Accounts</h5>
  <div class="card-custom" id="checkingCard">
    <h5>Checking Account</h5>
    <p id="checkingBalance"></p>
  </div>

  <div class="card-custom" id="savingsCard">
    <h5>Savings Account</h5>
    <p id="savingsBalance"></p>
  </div>

  <h5 style="font-weight:700;margin-top:18px;">More Options</h5>

  <div class="card-custom" id="cardsBtn">
    <h5><i class="bi bi-credit-card"></i> Cards</h5>
  </div>

  <div class="card-custom" id="creditScoreBtn">
    <h5><i class="bi bi-graph-up"></i> Credit Score</h5>
  </div>

  <div class="card-custom" id="payBillsBtn">
    <h5><i class="bi bi-receipt"></i> Pay Bills</h5>
  </div>

  <div class="card-custom" id="cryptoBtn">
    <h5><i class="bi bi-currency-bitcoin"></i> Crypto</h5>
  </div>
</div>

<!-- CRYPTO SECTION -->
<div id="cryptoSection" class="section">
  <h3>Cryptocurrencies</h3>
  <div id="cryptoList"></div>
  <div class="mt-4 text-center">
    <span class="link-like" id="cryptoBack">← Back to Dashboard</span>
  </div>
</div>

<!-- CRYPTO DETAIL -->
<div id="cryptoDetailSection" class="section">
  <h3 id="cryptoTitle"></h3>
  <canvas id="cryptoChart" height="120"></canvas>
  <div class="text-center mt-3">
    <div>Price: <span id="cryptoPrice"></span> <span id="cryptoChange"></span></div>
    <button class="btn btn-success mt-2" id="cryptoBuyBtn">Buy</button>
    <button class="btn btn-danger mt-2" id="cryptoSellBtn">Sell</button>
  </div>
  <div class="mt-4 text-center">
    <span class="link-like" id="cryptoDetailBack">← Back to Crypto List</span>
  </div>
</div>

<!-- LOADING AND OTHER SECTIONS OMITTED FOR BREVITY -->

<script>
// -------------------------
// Helper Functions
// -------------------------
function showSection(id){
  document.querySelectorAll(".section").forEach(s => s.classList.remove("active"));
  document.getElementById(id).classList.add("active");
}

// -------------------------
// Login
// -------------------------
const LOGIN_EMAIL = "Michiganbank@gmail.com";
const LOGIN_PASSWORD = "Bank1&$";
let checkingBalance = 5000;
let savingsBalance = 3000;

const loginBtn = document.getElementById("loginBtn");
const loginEmail = document.getElementById("loginEmail");
const loginPassword = document.getElementById("loginPassword");
const loginError = document.getElementById("loginError");

loginBtn.addEventListener("click", () => {
  if(loginEmail.value === LOGIN_EMAIL && loginPassword.value === LOGIN_PASSWORD){
    loginError.style.display = "none";
    showSection("dashboardSection");
    initDashboard();
    fetchCryptoPrices();
    setInterval(fetchCryptoPrices, 30000);
  } else {
    loginError.style.display = "block";
  }
});

// -------------------------
// Dashboard
// -------------------------
const greeting = document.getElementById("greeting");
const liveTime = document.getElementById("liveTime");
const checkingBalanceElem = document.getElementById("checkingBalance");
const savingsBalanceElem = document.getElementById("savingsBalance");
const overallBalanceElem = document.getElementById("overallBalance");

function initDashboard(){
  updateBalances(); setGreeting();
  setInterval(setGreeting,60000);
}
function updateBalances(){
  checkingBalanceElem.innerText="$"+checkingBalance.toFixed(2);
  savingsBalanceElem.innerText="$"+savingsBalance.toFixed(2);
  overallBalanceElem.innerText="$"+(checkingBalance+savingsBalance).toFixed(2);
}
function setGreeting(){
  let hour=new Date().getHours(), greet="Hello";
  if(hour<12)greet="Good Morning"; else if(hour<18)greet="Good Afternoon"; else greet="Good Evening";
  greeting.innerText=greet+" David";
  liveTime.innerText=new Date().toLocaleTimeString();
}

// -------------------------
// Crypto Section
// -------------------------
let cryptos = [
  { id: "bitcoin", name: "Bitcoin", symbol: "BTC", price:0, change24h:0, history:[], balance:0 },
  { id: "ethereum", name: "Ethereum", symbol: "ETH", price:0, change24h:0, history:[], balance:0 },
  { id: "litecoin", name: "Litecoin", symbol: "LTC", price:0, change24h:0, history:[], balance:0 }
];
let selectedCrypto = null;
let cryptoChart = null;

async function fetchCryptoPrices(){
  const ids = cryptos.map(c=>c.id).join(",");
  const url = `https://api.coingecko.com/api/v3/simple/price?ids=${ids}&vs_currencies=usd&include_24hr_change=true`;
  try{
    const res = await fetch(url);
    const data = await res.json();
    cryptos.forEach(c=>{
      c.price = data[c.id].usd;
      c.change24h = data[c.id].usd_24h_change;
      c.history.push(c.price);
      if(c.history.length>20)c.history.shift();
    });
    renderCryptoList();
    if(selectedCrypto) updateCryptoDetail();
  } catch(err){ console.error("Crypto fetch error:",err); }
}

function renderCryptoList(){
  const cryptoListEl = document.getElementById("cryptoList");
  cryptoListEl.innerHTML="";
  cryptos.forEach(c=>{
    const div = document.createElement("div");
    div.className="card-custom mt-2 d-flex justify-content-between align-items-center";
    const pct = c.change24h.toFixed(2);
    const color = c.change24h>=0?"green":"red";
    div.innerHTML=`<div><strong>${c.name} (${c.symbol})</strong><br>$${c.price.toFixed(2)}</div>
                   <div style="color:${color}">${pct}%</div>`;
    div.addEventListener("click",()=>openCryptoDetail(c.id));
    cryptoListEl.appendChild(div);
  });
}

function openCryptoDetail(id){
  selectedCrypto = cryptos.find(c=>c.id===id);
  document.getElementById("cryptoTitle").innerText=`${selectedCrypto.name} (${selectedCrypto.symbol})`;
  showSection("cryptoDetailSection");
  const ctx = document.getElementById("cryptoChart").getContext("2d");
  if(cryptoChart) cryptoChart.destroy();
  cryptoChart = new Chart(ctx,{
    type:"line",
    data:{labels:selectedCrypto.history.map((_,i)=>i),datasets:[{label:selectedCrypto.symbol,data:selectedCrypto.history,borderColor:"#764ba2",backgroundColor:"rgba(118,75,162,0.2)",tension:0.3}]},
    options:{responsive:true,plugins:{legend:{display:false}}}
  });
  updateCryptoDetail();
}

function updateCryptoDetail(){
  if(!selectedCrypto) return;
  document.getElementById("cryptoPrice").innerText="$"+selectedCrypto.price.toFixed(2);
  const pct = selectedCrypto.change24h.toFixed(2);
  const ch = document.getElementById("cryptoChange");
  ch.innerText=pct+"%";
  ch.style.color = selectedCrypto.change24h>=0?"green":"red";
  if(cryptoChart){
    cryptoChart.data.datasets[0].data = selectedCrypto.history;
    cryptoChart.update();
  }
}

document.getElementById("cryptoBuyBtn").addEventListener("click",()=>{
  const amt = parseFloat(prompt("Enter USD to buy:"));
  if(!amt||amt<=0)return alert("Invalid amount");
  if(amt>checkingBalance)return alert("Insufficient funds");
  checkingBalance -= amt;
  const cryptoAmt = amt/selectedCrypto.price;
  selectedCrypto.balance += cryptoAmt;
  updateBalances();
  alert(`Bought ${cryptoAmt.toFixed(6)} ${selectedCrypto.symbol}`);
});

document.getElementById("cryptoSellBtn").addEventListener("click",()=>{
  const amt = parseFloat(prompt("Enter USD to sell:"));
  if(!amt||amt<=0)return alert("Invalid amount");
  const cryptoAmt = amt/selectedCrypto.price;
  if(cryptoAmt>selectedCrypto.balance)return alert("Not enough crypto");
  selectedCrypto.balance -= cryptoAmt;
  checkingBalance += amt;
  updateBalances();
  alert(`Sold ${cryptoAmt.toFixed(6)} ${selectedCrypto.symbol}`);
});

document.getElementById("cryptoBack").addEventListener("click",()=>showSection("dashboardSection"));
document.getElementById("cryptoDetailBack").addEventListener("click",()=>showSection("cryptoSection"));

// -------------------------
// Dashboard Buttons
// -------------------------
document.getElementById("cryptoBtn").addEventListener("click",()=>showSection("cryptoSection"));

initDashboard();
</script>
</body>
</html>